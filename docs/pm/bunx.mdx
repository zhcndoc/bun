---
title: "bunx"
description: "运行 npm 包"
---

import Bunx from "/snippets/cli/bunx.mdx";

<Note>`bunx` 是 `bun x` 的别名。当你安装 `bun` 时，`bunx` 命令行工具会被自动安装。</Note>

使用 `bunx` 来自动安装并运行来自 `npm` 的包。它是 Bun 版本的 `npx` 或 `yarn dlx`。

```bash terminal icon="terminal"
bunx cowsay "Hello world!"
```

<Note>
  ⚡️ **速度** — 利用 Bun 的快速启动时间，`bunx` 在运行本地安装的包时比 `npx` [快大约 100 倍](https://twitter.com/jarredsumner/status/1606163655527059458)。
</Note>

包可以在它们的 `package.json` 文件中的 `"bin"` 字段声明可执行文件。这些被称为 _包可执行文件_ 或 _包二进制文件_。

```json package.json icon="file-json"
{
  // ... 其他字段
  "name": "my-cli",
  "bin": {
    "my-cli": "dist/index.js"
  }
}
```

这些可执行文件通常是带有 [shebang 行](<https://en.wikipedia.org/wiki/Shebang_(Unix)>) 的普通 JavaScript 文件，用来指示应该使用哪个程序来执行它们。下面的文件声明它应该用 `node` 来执行。

```js dist/index.js icon="/icons/javascript.svg"
#!/usr/bin/env node

console.log("Hello world!");
```

这些可执行文件可以通过 `bunx` 来运行，

```bash terminal icon="terminal"
bunx my-cli
```

和 `npx` 一样，`bunx` 会先检查是否有本地安装的包，如果没有则会自动从 `npm` 安装。已安装的包会被存储到 Bun 的全局缓存中以供将来使用。

## 参数和标志

要向可执行文件传递额外的命令行标志和参数，请把它们放在可执行文件名之后。

```bash terminal icon="terminal"
bunx my-cli --foo bar
```

---

## Shebang 行

默认情况下，Bun 会尊重 shebang 行。如果一个可执行文件带有 `#!/usr/bin/env node`，Bun 会启动一个 `node` 进程来执行该文件。但有时我们希望即使文件指定了其它运行时，也使用 Bun 的运行时来执行。只需添加 `--bun` 标志即可。

```bash terminal icon="terminal"
bunx --bun my-cli
```

`--bun` 标志必须 _出现在_ 可执行文件名之前。位于可执行文件名 _之后_ 的标志会传递给该可执行文件。

```bash terminal icon="terminal"
bunx --bun my-cli # 正确
bunx my-cli --bun # 错误
```

## Package 标志

**`--package <pkg>` 或 `-p <pkg>`** - 从指定包中运行二进制文件。当二进制文件名与包名不匹配时非常有用：

```bash terminal icon="terminal"
bunx -p renovate renovate-config-validator
bunx --package @angular/cli ng
```

要强制脚本总是使用 Bun 运行，使用 shebang：

```js dist/index.js icon="/icons/javascript.svg"
#!/usr/bin/env bun
```

---

<Bunx />