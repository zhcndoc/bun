---
title: 错误处理
description: 学习如何在 Bun 的开发服务器中处理错误
---

要启用开发模式，设置 `development: true`。

```ts title="server.ts" icon="/icons/typescript.svg"
Bun.serve({
  development: true, // [!code ++]
  fetch(req) {
    throw new Error("woops!");
  },
});
```

在开发模式下，Bun 会通过内置的错误页面在浏览器中显示错误。

<Frame>![Bun 内置的 500 错误页面](/images/exception_page.png)</Frame>

### `error` 回调

要处理服务器端错误，请实现一个 `error` 处理函数。当发生错误时，该函数应返回一个 `Response` 供客户端使用。此响应会覆盖开发模式下 Bun 默认的错误页面。

```ts
Bun.serve({
  fetch(req) {
    throw new Error("woops!");
  },
  error(error) {
    return new Response(`<pre>${error}\n${error.stack}</pre>`, {
      headers: {
        "Content-Type": "text/html",
      },
    });
  },
});
```

<Info>[了解更多关于 Bun 调试的信息](/runtime/debugger)</Info>