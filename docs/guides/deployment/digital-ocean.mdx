---
title: åœ¨ DigitalOcean ä¸Šéƒ¨ç½² Bun åº”ç”¨
sidebarTitle: åœ¨ DigitalOcean ä¸Šéƒ¨ç½²
mode: center
---

[DigitalOcean](https://www.digitalocean.com/) æ˜¯ä¸€ä¸ªäº‘å¹³å°ï¼Œæä¾›å¤šç§æ„å»ºå’Œéƒ¨ç½²åº”ç”¨çš„æœåŠ¡ã€‚

åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ `Dockerfile` å°† Bun HTTP æœåŠ¡å™¨éƒ¨ç½²åˆ° DigitalOceanã€‚

<Note>
	ç»§ç»­ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»ï¼š

    - å‡†å¤‡å¥½ä¸€ä¸ªå¯éƒ¨ç½²çš„ Bun åº”ç”¨
    - æ‹¥æœ‰ä¸€ä¸ª [DigitalOcean è´¦æˆ·](https://www.digitalocean.com/)
    - å·²å®‰è£…å¹¶é…ç½®å¥½ [DigitalOcean CLI](https://docs.digitalocean.com/reference/doctl/how-to/install/#step-1-install-doctl)
    - å·²å®‰è£…å¹¶æ·»åŠ åˆ° `PATH` ä¸­çš„ [Docker](https://docs.docker.com/get-started/get-docker/)

</Note>

---

<Steps>
	<Step title="åˆ›å»ºä¸€ä¸ªæ–°çš„ DigitalOcean å®¹å™¨æ³¨å†Œè¡¨">
		åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨æ³¨å†Œè¡¨ä»¥å­˜å‚¨ Docker é•œåƒã€‚

    	<Tabs>
    		<Tab title="é€šè¿‡ DigitalOcean æ§åˆ¶é¢æ¿">
    			åœ¨ DigitalOcean æ§åˆ¶é¢æ¿ä¸­ï¼Œè¿›å…¥ [**å®¹å™¨æ³¨å†Œè¡¨**](https://cloud.digitalocean.com/registry)ï¼Œå¹¶å¡«å†™æ–°æ³¨å†Œè¡¨çš„è¯¦ç»†ä¿¡æ¯ã€‚

    			<Frame>
    				![DigitalOcean æ³¨å†Œè¡¨æ§åˆ¶é¢æ¿](/images/guides/digitalocean-7.png)
    			</Frame>

    			ç¡®è®¤ä¿¡æ¯æ— è¯¯åï¼Œç‚¹å‡» **åˆ›å»ºæ³¨å†Œè¡¨**ã€‚
    		</Tab>
    		<Tab title="é€šè¿‡ DigitalOcean CLI">

    			```bash terminal icon="terminal"
    			doctl registry create bun-digitalocean-demo
    			```
    			```txt
    			Name                     Endpoint                                           Region slug
    			bun-digitalocean-demo    registry.digitalocean.com/bun-digitalocean-demo    sfo2
    			```

    		</Tab>
    	</Tabs>

    	ä½ åº”è¯¥èƒ½åœ¨ [**DigitalOcean æ³¨å†Œè¡¨æ§åˆ¶é¢æ¿**](https://cloud.digitalocean.com/registry) çœ‹åˆ°æ–°çš„æ³¨å†Œè¡¨ï¼š

    	<Frame>
    		![DigitalOcean æ³¨å†Œè¡¨æ§åˆ¶é¢æ¿](/images/guides/digitalocean-1.png)
    	</Frame>
    </Step>
    <Step title="åˆ›å»ºæ–°çš„ Dockerfile">
    	ç¡®ä¿ä½ ä½äºåŒ…å«é¡¹ç›®çš„ç›®å½•ï¼Œç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªæ–°çš„ `Dockerfile`ã€‚è¯¥æ–‡ä»¶åŒ…å«åˆå§‹åŒ–å®¹å™¨ã€å°†æœ¬åœ°é¡¹ç›®æ–‡ä»¶å¤åˆ¶è¿›å»ã€å®‰è£…ä¾èµ–ä»¥åŠå¯åŠ¨åº”ç”¨çš„æŒ‡ä»¤ã€‚

    	```docker Dockerfile icon="docker"
    	# ä½¿ç”¨å®˜æ–¹ Bun é•œåƒè¿è¡Œåº”ç”¨
    	FROM oven/bun:debian

    	# è®¾ç½®å·¥ä½œç›®å½•ä¸º `/app`
    	WORKDIR /app

    	# å°† package.json å’Œ bun.lock å¤åˆ¶åˆ°å®¹å™¨ä¸­
    	COPY package.json bun.lock ./

    	# å®‰è£…ä¾èµ–
    	RUN bun install --production --frozen-lockfile

    	# å°†å…¶ä½™åº”ç”¨æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ä¸­
    	COPY . .

    	# å¼€æ”¾ç«¯å£ï¼ˆDigitalOcean ä¼šè®¾ç½® PORT ç¯å¢ƒå˜é‡ï¼‰
    	EXPOSE 8080

    	# å¯åŠ¨åº”ç”¨
    	CMD ["bun", "index.ts"]
    	```

    	<Note>
    		ç¡®ä¿å¯åŠ¨å‘½ä»¤å¯¹åº”ä½ çš„åº”ç”¨å…¥å£æ–‡ä»¶ã€‚å¦‚æœä½ åœ¨ `package.json` ä¸­é…ç½®äº† start è„šæœ¬ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ `CMD ["bun", "run", "start"]`ã€‚

    		è¯¥é•œåƒä¼šåœ¨å®¹å™¨å†…ç”¨ Bun å®‰è£…ä¾èµ–å¹¶è¿è¡Œä½ çš„åº”ç”¨ã€‚å¦‚æœä½ çš„åº”ç”¨æ²¡æœ‰ä¾èµ–ï¼Œå¯ä»¥çœç•¥ `RUN bun install --production --frozen-lockfile` è¿™ä¸€è¡Œã€‚
    	</Note>

    	åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªæ–°çš„ `.dockerignore` æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶ç”¨äºæ’é™¤ä¸éœ€è¦æ·»åŠ è¿›é•œåƒçš„æ–‡ä»¶å’Œç›®å½•ï¼Œæ¯”å¦‚ `node_modules`ã€‚è¿™èƒ½è®©æ„å»ºæ›´å¿«ä¸”é•œåƒæ›´å°ï¼š

    	```docker .dockerignore icon="Docker"
    	node_modules
    	Dockerfile*
    	.dockerignore
    	.git
    	.gitignore
    	README.md
    	LICENSE
    	.vscode
    	.env
    	# å…¶ä»–ä½ æƒ³æ’é™¤çš„æ–‡ä»¶æˆ–ç›®å½•
    	```
    </Step>
    <Step title="ç”¨ Docker éªŒè¯ç™»å½• DigitalOcean æ³¨å†Œè¡¨">
    	åœ¨æ„å»ºå’Œæ¨é€ Docker é•œåƒä¹‹å‰ï¼Œå…ˆç”¨ Docker è®¤è¯ç™»å½• DigitalOcean å®¹å™¨æ³¨å†Œè¡¨ï¼š

    	```bash terminal icon="terminal"
    	doctl registry login
    	```
    	```txt
    	Successfully authenticated with registry.digitalocean.com
    	```

    	<Note>
    		æ­¤å‘½ä»¤ä½¿ç”¨ä½ çš„ DigitalOcean è´¦å·è®¤è¯ Docker ä¸ DigitalOcean æ³¨å†Œè¡¨é€šä¿¡ã€‚è‹¥æœªæ‰§è¡Œæ­¤æ­¥éª¤ï¼Œæ„å»ºå’Œæ¨é€æ“ä½œä¼šå›  401 è®¤è¯é”™è¯¯è€Œå¤±è´¥ã€‚
    	</Note>
    </Step>
    <Step title="æ„å»ºå¹¶æ¨é€ Docker é•œåƒåˆ° DigitalOcean æ³¨å†Œè¡¨">
    	ç¡®ä¿ä½ å½“å‰åœ¨åŒ…å« `Dockerfile` çš„ç›®å½•ï¼Œä½¿ç”¨ä¸€æ¡å‘½ä»¤æ„å»ºå¹¶æ¨é€ Docker é•œåƒåˆ° DigitalOcean æ³¨å†Œè¡¨ï¼š

    	```bash terminal icon="terminal"
    	docker buildx build --platform=linux/amd64 -t registry.digitalocean.com/bun-digitalocean-demo/bun-digitalocean-demo:latest --push .
    	```

    	<Note>
    		å¦‚æœä½ çš„æœºå™¨æ˜¯ ARM æ¶æ„ï¼ˆå¦‚ M1/M2 Macï¼‰ï¼Œå¿…é¡»ä½¿ç”¨ `docker buildx` å¹¶æŒ‡å®š `--platform=linux/amd64` ä»¥ä¿è¯é•œåƒä¸ DigitalOcean åŸºç¡€è®¾æ–½å…¼å®¹ã€‚ç›´æ¥ä½¿ç”¨ `docker build` ä¼šç”Ÿæˆ ARM64 é•œåƒï¼ŒDigitalOcean ä¸Šæ— æ³•è¿è¡Œã€‚
    	</Note>

    	æ¨é€å®Œæˆåï¼Œä½ åº”èƒ½åœ¨ [**DigitalOcean æ³¨å†Œè¡¨æ§åˆ¶é¢æ¿**](https://cloud.digitalocean.com/registry) çœ‹åˆ°é•œåƒï¼š

    	<Frame>
    		![DigitalOcean æ³¨å†Œè¡¨æ§åˆ¶é¢æ¿](/images/guides/digitalocean-2.png)
    	</Frame>
    </Step>
    <Step title="åˆ›å»ºæ–°çš„ DigitalOcean App Platform é¡¹ç›®">
    	åœ¨ DigitalOcean æ§åˆ¶é¢æ¿ï¼Œè¿›å…¥ [**App Platform**](https://cloud.digitalocean.com/apps) > **åˆ›å»ºåº”ç”¨**ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥ä»å®¹å™¨é•œåƒåˆ›å»ºé¡¹ç›®ã€‚

    	<Frame>
    		![DigitalOcean App Platform é¡¹ç›®æ§åˆ¶é¢æ¿](/images/guides/digitalocean-3.png)
    	</Frame>

    	ç¡®è®¤ä¿¡æ¯æ— è¯¯åï¼Œç‚¹å‡» **ä¸‹ä¸€æ­¥**ã€‚

    	<Frame>
    		![DigitalOcean App Platform æœåŠ¡æ§åˆ¶é¢æ¿](/images/guides/digitalocean-4.png)
    	</Frame>

    	æ£€æŸ¥å¹¶é…ç½®èµ„æºè®¾ç½®ï¼Œç„¶åç‚¹å‡» **åˆ›å»ºåº”ç”¨**ã€‚

    	<Frame>
    		![DigitalOcean App Platform æœåŠ¡æ§åˆ¶é¢æ¿](/images/guides/digitalocean-6.png)
    	</Frame>
    </Step>
    <Step title="è®¿é—®ä½ çš„åœ¨çº¿åº”ç”¨">
    	ğŸ¥³ ä½ çš„åº”ç”¨ç°å·²ä¸Šçº¿ï¼åº”ç”¨åˆ›å»ºå®Œæˆåï¼Œä½ åº”è¯¥èƒ½åœ¨ App Platform æ§åˆ¶é¢æ¿çœ‹åˆ°å®ƒåŠå…¶å…¬ç½‘ URLã€‚

    	<Frame>
    		![DigitalOcean App Platform åº”ç”¨æ§åˆ¶é¢æ¿](/images/guides/digitalocean-5.png)
    	</Frame>
    </Step>

</Steps>