---
title: 将文件作为 HTTP 响应流式传输
sidebarTitle: 流式文件响应
mode: center
---

此示例使用 [`Bun.file()`](/runtime/file-io#reading-files-bun-file) 从磁盘读取文件。该方法返回一个 `BunFile` 实例，可以直接传入 `new Response` 构造函数。

```ts server.ts icon="/icons/typescript.svg"
const path = "/path/to/file.txt";
const file = Bun.file(path);
const resp = new Response(file);
```

---

`Content-Type` 会从文件中读取并自动设置到 `Response` 上。

```ts server.ts icon="/icons/typescript.svg"
new Response(Bun.file("./package.json")).headers.get("Content-Type");
// => application/json;charset=utf-8

new Response(Bun.file("./test.txt")).headers.get("Content-Type");
// => text/plain;charset=utf-8

new Response(Bun.file("./index.tsx")).headers.get("Content-Type");
// => text/javascript;charset=utf-8

new Response(Bun.file("./img.png")).headers.get("Content-Type");
// => image/png
```

---

结合 [`Bun.serve()`](/runtime/http/server) 一起使用。

```ts server.ts icon="/icons/typescript.svg"
// 静态文件服务器
Bun.serve({
  async fetch(req) {
    const path = new URL(req.url).pathname;
    const file = Bun.file(path);
    return new Response(file);
  },
});
```

---

完整的 `Bun.write()` 文档请参见 [文档 > API > 文件 I/O](/runtime/file-io#writing-files-bun-write)。
